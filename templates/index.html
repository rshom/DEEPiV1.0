<html>
  <head>
    <title>Video Streaming Demonstration</title>
    <script>
    addEventListener("DOMContentLoaded", function() {
	var commandButtons = document.querySelectorAll(".command");
	for (var i=0, l=commandButtons.length; i<l; i++) {
	    var button = commandButtons[i];
	    button.addEventListener("click", function(e) {
		e.preventDefault();
		var clickedButton = e.target;
		var command = clickedButton.value;
		
		var request = new XMLHttpRequest();
		request.onload = function() {
		    alert(request.response);
		};
		request.open("GET", "/" + command, true);
		request.send();
	    });
	}
    },true);
</script>
    
  </head>
  <body>
    <h1>Video Streaming Demonstration</h1>
    <img src="{{ url_for('video_feed') }}" />
    <form action="/cmd">
      {% for command in commands %}
      <button class="command command-{{ command }}" value="{{ command }}">
        {{ command }}
      </button>
      {% endfor %}
    </form>
  </body>
</html>
